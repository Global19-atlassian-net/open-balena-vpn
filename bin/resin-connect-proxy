#!/usr/src/app/node_modules/.bin/coffee

process.title = 'resin-connect-proxy'

require 'ts-node/register'
path = require 'path'

envKeys = [
	'VPN_CONNECT_PROXY_PORT'
]

for k in envKeys when not process.env[k]?
	console.error("#{k} env variable is not set.")
	process.exit(1)

port = process.env.VPN_CONNECT_PROXY_PORT

src  = path.join(__dirname, '../src')
require(src + '/connect-proxy')(port)

# -*- mode: coffee -*-
# # vi: set ft=coffee :